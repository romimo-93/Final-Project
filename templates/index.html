<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>ML NHL | Machine Learning NHL</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico')}}" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"/>
    <!-- CSS -->
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/d3Style.css') }}">
    
  </head>
  <body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">Home</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#dabbler">Dabbler</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#cluster">Cluster</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#player">Player</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#Analyses">Analysis</a>
            </li>

            

          </ul>
        </div>
      </div>
    </nav>
    <!-- Masthead-->
    <header class="masthead">
      <div class="container d-flex h-100 align-items-center">
        <div class="mx-auto text-center">
          <h1 class="mx-auto my-0 text-uppercase">NHL <br>Machine Learning</h1>
          <h2 class="text-white-50 mx-auto mt-2 mb-5">
            
          </h2>
          <a class="btn btn-primary js-scroll-trigger" href="#about">Get Started</a>
        </div>
      </div>
    </header>
    <!-- About-->
    <section class="about-section text-center" id="about">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h2 class="text-white mb-4">Project Overview</h2>
            <p class="text-white-50">
              20 years of NHL data was used to explore correlations between performance stats and the position (Center, Winger, Defenseman). First, we compare all players' total stats against their time on ice and illustrated by their position in an effort to find strong correlations. With this information we built three machine learning models: two supervised classification models (Neural Network and Support Vector Machine) to determine a player's position based on their statistical averages per game and an unsupervised clustering model to categorize players based on their efficiency of ice time in a given stat.
              The supervised classification models were built using the average summary of statistics across multiple features (goals, assists, shots, etc.) partitioned into Train/Test Splits. Both models predict the actual primary position of the player with an accuracy of about 85%.
            </p>
          </div>
        </div>
      </div>

    </section>
    <!-- Projects-->
    <section class="projects-section pb-0 bg-light" id="dabbler">
      <div class="container-fluid pl-5">
          <!-- Dabbler-->
          <div class="row align-items-center justify-content-center no-gutters mb-4 mb-lg-5">

            <div id="dabbler-container" class="h-100 project col-8">
                <h3 style="text-align: center;width: 100%;">Total Aggregated Statistics grouped by Player</h3>
                <p>Eight feature statistics on the X axis and four ice time parameters on the Y axis were used to visualize thirty-two different data interactions. Each point on the graph represents a player's total aggregated statistics for all seasons and all teams for the chosen X and Y. </p>

                <p>The cluster classification plot updates and displays the scatter plot based on the axis selection on the dabbler scatter plot. Each chart is generated based on a KMeans Clustering model with a k-value of four(4 clusters). The color of the cluster dictates the category into which each player may fall. The color-definition remains constant for each chart. See <a href="#cluster"> cluster section</a> below for more details. </p>

                <p id="x-axis-description"></p>
                <p id="y-axis-description"></p>

            </div>
          </div>
          <div class="row">
            <div id="scatter" class="col-xl-8 col-12">
              <!-- We append our dabbler chart here. -->
            </div>        
            <div class ="hidden-mobile mb-5 pr-2 col-4">
              <img class="img-fluid cluster-img hidden" src="#" alt="cluster graph image">
              <br>
              <caption>Cluster Chart<br><a class="js-scroll-trigger" href="#cluster"><strong>More information about Clustering</strong></a></caption>
            </div>
          </div>
        </div>
        
      </div>
    </section>

    <section class="projects-section bg-dark" id="cluster">
      <div class="container">

        <!-- Cluster -->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="col-xl-6 col-lg-4">
            <div id="cluster">
              <img class="img-fluid cluster-img hidden" src="#" alt="cluster graph image">
            </div>
          </div>
          <div class="bg-black text-center h-100 project col-xl-6 col-lg-8">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">Cluster</h4>
                <hr class="d-none d-lg-block mb-0 ml-0" />
                <p class="mb-0 mt-4 text-white-50">
                  These cluster classifications will update based on the scatter plot axis selections above. Each chart is generated based on a <a href="https://en.wikipedia.org/wiki/K-means_clustering">KMeans Clustering</a> model with a k-value of four(4). The color of the cluster dictates the category into which each player may fall. The color-definition remains constant for each chart:
                </p>
                <ul class="text-white">
                  <li>Gray - These players do not play enough on average per game to have an accurate reading of their impact for this metric</li>
                  <li>Red - These players are performing <strong>under</strong> the league averages for this metric</li>
                  <li>Yellow - These players are performing <strong>at or around</strong> the league averages for this metric</li>
                  <li>Green - These players are performing <strong>above</strong> the league averages for this metric</li>
                </ul>
              </div>
          </div>
        </div>
        
      </div>
    </section>




    
    <section class="projects-section" style="overflow:hidden;position:relative;" id="player">
      <div id="player-action"></div>

      <div id="player-containter" class="container-fluid" style="overflow:hidden;position:relative;padding-left:10%;padding-right:5%;">
        

        <!-- Player -->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="col-xl-8 col-lg-7">
            <h2>Player Details</h2>
            <p>
              Use filters to select a season, team, and player. Player Game Statistics table will populate with related statistics based on the selected filters.            
            </p>

            <div class="player-filters">   
                <label for="selSeason">Season: </label>
                <select id="selSeason"></select>

                <label for="selSeason">Team: </label>
                <select id="selTeam"></select>
            
                <label for="selSeason">Player: </label>
                <select id="selPlayer"></select>
    
            </div>

          </div>
          <div class="col-xl-8 col-lg-7">
            <h3 id="player_name"></h3>
      
            <p class="fst-italic">
            </p>
            <div class="col-lg-12 pt-4 pt-lg-0 content" data-aos="fade-left"> 
              <div class="row">
                <div class="col-lg-6">
                  <div id="player_info"></div>
                </div>
                <div class="col-lg-6">
                  <div id="player_sum_stats"></div>
                </div>
              </div>
              <p>
                The areas of focus in the player information above are the "Support Vector Machine (SVM) Position" and "Neural Network (NN) Position".
                SVM and NN machine learning models were used to predict the player's primary position (Center (C), Winger (LW/RW), or Defenseman (D). 
                The SVM and NN models predict, with about 85% accuracy, the actual primary position of the player.
                There were only <a class="js-scroll-trigger" href="#analysis-3">12 instances</a> out of 3353 where the actual primary position, SVM predicted position and NN predicted position were all different. 
              </p>
            </div>
          </div>              
          <div class="text-center h-100 project col-xl-4 col-lg-5">
              <div class="project-text w-100 my-auto text-center text-lg-left" style="position:relative">                
                <p class="mb-0 text-white-50">
                  <div id="player_headshot" style="border-radius: 50%;max-width: 250px;"></div>
                </p>
              </div>  
          </div>      
          <div class="col-12" id="stats-table">
            <h3>Player Game Statistics</h3>
            <div id="table-container">
              <table id="table" class="table table-striped" style="overflow:hidden;table-layout:fixed;" height="500px">
                <thead></thead>
                <tbody></tbody>
              </table>
            </div>
          </div> 
            <div class="col-lg-6">
              
                
              
            </div>   
        </div>

        </div>        
        </div>        
      </div>
    </section>
    
    <!-- Analyses -->
    <section class="projects-section bg-dark" style="overflow:hidden;position:relative;" id="Analyses">
      <h2 class="text-center text-white">Analysis</h2>
      <hr class="d-none d-lg-block mb-5 ml-auto" style="border-color: #64a19d;border-width: 0.25rem;width: 10%";/>

      <div id="analyses-containter" class="container-fluid" style="overflow:hidden;position:relative;padding-left:10%;padding-right:5%;">
        
        <!-- Analysis Item Odd -->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="col-xl-6 col-lg-4">
            <div id="analysis-img-1" class="analysis-img">
              <img class="img-fluid float-right p-2" src="static\img\dabbler\goals-toi.png" alt="chart image">
              <img class="img-fluid float-right p-2" src="static\img\dabbler\shots-toi.png" alt="chart image">
              <img class="img-fluid float-right p-2" src="static\img\dabbler\blocked-toi.png" alt="chart image">
            </div>
          </div>
          <div class="col-xl-6 col-lg-8">
            <div class="bg-black text-center h-100 project">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">Dabbler Analysis</h4>
                <hr class="d-none d-lg-block mb-0 ml-0" />
                <p class="mb-0 mt-4 text-white-50">
                  There is a fairly significant distinction between forwards and defensemen when it comes to both the shots and goals recorded. Using all available game data since the 2000-2001 season, we can see that forwards outshoot (left-middle) and outscore (left-top) defensemen. Inversely, we can see that defensemen block more shots than forwards (left-bottom).
                </p>
              </div>
            </div>

          </div>
        </div>

        <hr class="d-none d-lg-block py-4 ml-auto" style="border-color: #64a19d;border-width: 0.25rem;width: 95%;"/>

        <!-- Analysis Item Even -->
        <div class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="bg-black text-center h-100 project col-xl-6 col-lg-8">
            <div class="project-text w-100 my-auto text-center text-lg-left">
              <h4 class="text-white">Model Accuracy</h4>
              <hr class="d-none d-lg-block mb-0 ml-0" />
              <p class="mb-0 mt-4 text-white-50">
                The two models created use all available player stats to predict the player’s position. The Neural Network (NN) and the Support Vector Machine (SVM) both predict a player’s position at about 85% accuracy. When diving into the accuracy more, we found that the NN was able to predict with an accuracy of 97.5% whether a player was a Defenseman or not -- SVM is 94% accurate for Defensemen. On the other side of the ice, we categorized Forwards into Centers and Wingers. Since these positions are typically more offense-oriented, it was a little more difficult to train the model, however, both models operate at about 82% accuracy.
              </p>
              <br>
              <p class="mb-0 mt-4 text-white-50">
                Please see our <a href="/tableau">Tableau dashboards</a> to dive deeper into how the accuracy changes based on the average amount of ice time a player gets per game.
              </p>
            </div>
          </div>
          <div class="col-xl-6 col-lg-4">
            <div id="analysis-img-2" class="analysis-img">
              <img class="img-fluid p-2" src="static\img\model-accuracy.png" alt="chart image">
              <img class="img-fluid p-2" src="static\img\model-auc-roc-curve.png" alt="chart image">
            </div>
          </div>
        </div>

        <hr class="d-none d-lg-block py-3 ml-auto" style="border-color: #64a19d;border-width: 0.25rem;width: 95%;"/>

        <!-- Analysis Item Odd -->
        <div  id="analysis-3" class="row align-items-center no-gutters mb-4 mb-lg-5">
          <div class="col-xl-6 col-lg-4">
            <div id="analysis-img-1" class="analysis-img">
              <img class="img-fluid float-right p-2" src="static\img\nothing-matches.png" alt="chart image">
            </div>
          </div>
          <div class="col-xl-6 col-lg-8">
            <div class="bg-black text-center h-100 project">
              <div class="project-text w-100 my-auto text-center text-lg-left">
                <h4 class="text-white">Where The Machines Failed</h4>
                <hr class="d-none d-lg-block mb-0 ml-0" />
                <p class="mb-0 mt-4 text-white-50">
                  Of the 3353 players tested by the two models, only 12 player positions were guessed incorrectly by both models <i>and</i> neither model matched the other. Interestingly, in all 12 of these instances the player is a Center. Although the occurrence of both models being incorrect is plausible given that neither model is perfect, it seems highly unlikely that all of the players in this instance would be of the same position. If it not completely by chance, then there is a hockey-related explanation. Depending on the team's play style, Centers are sometimes relied on to play two-way hockey (offense and defense). For this reason, there is a real-life factor that explains this perceived phenomena.
                </p>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </section>






    <!-- Our Team Info -->
    <section class="contact-section bg-black">
      <div class="container">
          <div class="row">
              <div class="col-md-3 mb-3 mb-md-0">
                  <div class="card py-4 h-100">
                      <div class="card-body text-center">
                          <i class="fas fa-hockey-puck text-primary mb-2"></i>
                          <h4 class="text-uppercase m-0">Melissa Monroe</h4>
                          <hr class="my-4" />
                          <div class="small text-black-50">San Diego, CA</div>
                          <a class="mx-2" href="https://github.com/melissamonroe" target="_blank"><i class="fab fa-github"></i></a>
                          <a class="mx-2" href="https://www.linkedin.com/in/melissabessmonroe" target="_blank"><i class="fab fa-linkedin"></i></a>
                      </div>
                  </div>
              </div>
              <div class="col-md-3 mb-3 mb-md-0">
                <div class="card py-4 h-100">
                    <div class="card-body text-center">
                        <i class="fas fa-lightbulb text-primary mb-2"></i>
                        <h4 class="text-uppercase m-0">Ben Galde</h4>
                        <hr class="my-4" />
                        <div class="small text-black-50">San Diego, CA</div>
                        <a class="mx-2" href="https://github.com/bgalde-dev" target="_blank"><i class="fab fa-github"></i></a>
                        <a class="mx-2" href="https://www.linkedin.com/in/ben-galde/" target="_blank"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mb-3 mb-md-0">
              <div class="card py-4 h-100">
                  <div class="card-body text-center">
                      <i class="fas fa-crown text-primary mb-2"></i>
                      <h4 class="text-uppercase m-0">Romi Sinnigen</h4>
                      <hr class="my-4" />
                      <div class="small text-black-50">San Diego, CA</div>
                      <a class="mx-2" href="https://github.com/romimo-93" target="_blank"><i class="fab fa-github"></i></a>
                      <a class="mx-2" href="https://www.linkedin.com/in/romisinnigen/" target="_blank"><i class="fab fa-linkedin"></i></a>
                  </div>
              </div>
          </div>
          <div class="col-md-3 mb-3 mb-md-0">
            <div class="card py-4 h-100">
                <div class="card-body text-center">
                    <i class="fas fa-star text-primary mb-2"></i>
                    <h4 class="text-uppercase m-0">Andrew Baker</h4>
                    <hr class="my-4" />
                    <div class="small text-black-50">Baltimore, MD</div>
                    <a class="mx-2" href="https://github.com/abaker178" target="_blank"><i class="fab fa-github"></i></a>
                    <a class="mx-2" href="https://www.linkedin.com/in/abaker178/" target="_blank"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
          </div>
      </div>
  </section>
    <!-- Footer-->
    <footer class="footer bg-black small text-center text-white-50">
      <div class="container">UCSD Data Bootcamp Final Project 2021</div>
    </footer>
    <!-- D3 -->
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
    <!-- Bootstrap core JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Third party plugin JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <!-- Core theme JS-->
    <script src="{{ url_for('static', filename='js/website.js') }}"></script>
    <!-- Chart JS -->
    <script type="text/javascript" src="{{ url_for('static', filename='js/cluster.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/dabbler.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/player.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/app.js') }}"></script>

  </body>
</html>